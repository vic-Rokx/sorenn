(()=>{var Y=new Map,L=new Map,ue=new Map,ke=new Map;var Se=new Set,se=new Map,K=new Map,T={};var me=new Set,fe=new Map,M=new Map,P=new Map,Z=new Map,ae=new Map,$=new Map,Q=new Map;var N={initial_render:!0,isRenderScheduled:!1,currentDepthNode:""};var p={RECTANGLE:0,TEXT:1,IMAGE:2,FLEXBOX:3,TEXT_FIELD:4,BUTTON:5,BLOCK:6,BOX:7,HEADER:8,SVG:9,LINK:10,EMBEDLINK:11,LIST:12,LISTITEM:13,IF:14,HOOKS:15,LAYOUT:16,PAGE:17,BIND:18,DIALOG:19,DIALOG_SHOW:20,DIALOG_CLOSE:21,DRAGGABLE:22,REDIRECT_LINK:23,SELECT:24,SELECT_ITEM:25,BUTTON_CTX:26,EMBEDICON:27,ICON:28,LABEL:29,FORM:30,ALLOC_TEXT:31,TABLE:32,TABLE_ROW:33,TABLE_CELL:34,TABLE_HEADER:35,TABLE_BODY:36,TEXT_AREA:37,CANVAS:38,SUBMIT_BUTTON:39,HOOKS_CTX:40,JSON_EDITOR:41,HTML_TEXT:42,CODE:43,SPAN:44,LAZY_IMAGE:45,INTERSECTION:46,PRE_IMAGE:47,TEXT_GRADIENT:48,GRADIENT:49,VIRTUALIZE:50,BUTTON_CYCLE:51,GRAPHIC:52,HEADING:53,VIDEO:54,NOOP:55,TABLE_HEAD:56,ANCHOR:57};async function ce(t,e=-1,n=!1){if(!t)return;if(t.dataset.removing="true",!n&&e>-1){let s=d.getRemovalAnimationPtr(e);if(s>0){let c=d.getRemovalAnimationLen(e),a=i(s,c);a&&(t.style.animation=a,t.offsetWidth,await new Promise(l=>{t.addEventListener("animationend",()=>{l()},{once:!0})}))}}for(let s of Array.from(t.children))await ce(s,0,!0);Y.delete(t.id),fe.delete(t.id),me.delete(t.id);let r=L.get(t.id);if(r){for(let[s,c]of Object.entries(r))t.removeEventListener(s,c);L.delete(t.id)}t.remove()}function Ce(t,e){let n=e.hrefLen>0?i(e.hrefPtr,e.hrefLen):"";t.href=n;let o=d.getAriaLabel(e.offset);if(o){let r=d.getAriaLabelLen();t.ariaLabel=i(o,r)}return t.addEventListener("click",function(r){r.preventDefault();let s=r.currentTarget.href,c=new URL(s),a=c.pathname,l=window.location.pathname;requestAnimationFrame(()=>{l!==a&&te(a),requestAnimationFrame(()=>{let u=c.hash;if(u){let f=u.substring(1,u.length),h=document.getElementById(f);h&&h.scrollIntoView({block:"center"}),window.history.pushState({},"",a+u)}})})}),t}function ge(t,e){return ee!==void 0?ee[t]===void 0?null:ee[t][e]:null}function Me(t,e){switch(e.elemType){case p.GRAPHIC:let n=i(e.hrefPtr,e.hrefLen);fetch(n).then(a=>a.text()).then(a=>{t.innerHTML=a.replace(/^\s+|\s+$/g,"")}).catch(a=>{});break;case p.BUTTON:case p.BUTTON_CYCLE:let o=d.getAriaLabel(e.nodePtr);if(o){let a=d.getAriaLabelLen();t.ariaLabel=i(o,a)}t.addEventListener("click",async a=>{N.currentDepthNode=e.id,a.preventDefault(),a.stopPropagation();let l=g(e.id);e.elemType===p.BUTTON_CYCLE?d.buttonCycleCallback(l):d.buttonCallback(l)});break;case p.BUTTON_CTX:t.type="button",t.addEventListener("click",a=>{console.log("Button CTX",a);let l=g(e.id);d.ctxButtonCallback(l)});break;case p.LINK:t=Ce(t,e);break;case p.VIDEO:console.log("Video");let r=d.getVideo(e.nodePtr);if(console.log("Offset",r),r===0)break;let s=new DataView(d.memory.buffer,r),c=s.getUint32(0,!0);if(c){let a=s.getUint32(4,!0);t.src=i(c,a)}t.autoplay=s.getUint8(8)===1;break;default:break}}function $e(t){let e,n,o,r=D==="/"?"/root":`/root${D}`;switch(t.elemType){case p.TEXT:e=document.createElement("p"),n=ge(r,t.id)??i(t.textPtr,t.textLen),e.textContent=n;break;case p.TEXT_GRADIENT:e=document.createElement("p"),e.style.background="-webkit-linear-gradient(45deg, #E04F67, #C72C4A, #4800FF)",e.style["-webkit-background-clip"]="text",e.style["-webkit-text-fill-color"]="transparent",e.textContent=t.text;break;case p.TEXT_AREA:let s=d.getTextFieldParams(t.offset)>>>0;if(e=document.createElement("textarea"),e.lang="json",s){let v=d.getTextFieldCount(t.offset),A=new G(d,d.memory).readStruct(t.offset,s,v,"getTextFieldDescriptor");e.value=A.value!==null?String(A.value):"",e.value=A.default!==null?String(A.default):""}break;case p.HTML_TEXT:e=document.createElement("p"),n=ge(r,t.id)??i(t.textPtr,t.textLen),e.innerHTML=n;break;case p.CODE:e=document.createElement("code"),n=i(t.textPtr,t.textLen),e.textContent=n;break;case p.SPAN:e=document.createElement("span"),n=i(t.textPtr,t.textLen),e.innerText=n;break;case p.JSON_EDITOR:e=document.createElement("textarea"),n=i(t.textPtr,t.textLen),e.textContent=n;break;case p.ALLOC_TEXT:e=document.createElement("p"),n=i(t.textPtr,t.textLen),e.textContent=n;break;case p.IMAGE:e=document.createElement("img");let c=d.getAlt(t.offset);if(c>>>0){let v=d.getAltLen(),W=i(c,v);e.setAttribute("alt",W)}let a=i(t.hrefPtr,t.hrefLen);e.setAttribute("src",a);break;case p.LAZY_IMAGE:e=document.createElement("img"),e.src=i(t.hrefPtr,t.hrefLen),e.loading="lazy";break;case p.PRE_IMAGE:e=document.createElement("img"),e.src=i(t.hrefPtr,t.hrefLen),e.setAttribute("fetchpriority","high");break;case p.INTERSECTION:e=document.createElement("section");break;case p.FLEXBOX:case p.BOX:case p.BLOCK:case p.DRAGGABLE:case p.GRADIENT:case p.GRAPHIC:if(e=document.createElement("div"),t.elemType===p.GRADIENT)e.style.background="-webkit-linear-gradient(45deg, #8886f2, #e04597, #ee6994)";else if(t.elemType===p.GRAPHIC){let v=i(t.hrefPtr,t.hrefLen);fetch(v).then(W=>W.text()).then(W=>{e.innerHTML=W.replace(/^\s+|\s+$/g,"")}).catch(W=>{})}break;case p.ANCHOR:e=document.createElement("div");break;case p.TEXT_FIELD:e=document.createElement("input"),n=i(t.textPtr,t.textLen);let l=d.getFieldName(t.offset)>>>0;if(l){let v=d.getFieldNameLen(),W=i(l,v);e.name=W}let u=d.getTextFieldParams(t.offset);if(u){let v=d.getTextFieldCount(t.offset),A=new G(d,d.memory).readStruct(t.offset,u,v,"getTextFieldDescriptor");switch(e.placeholder=A.default!==null?String(A.default):"",e.value=A.value!==null?String(A.value):"",A.type){case 0:e.type="number";break;case 1:e.type="number";break;case 2:e.type="text";break;case 3:e.type="checkbox";break;case 4:e.type="radio";break;case 5:e.type="password";break;case 6:e.type="email";break;case 7:e.type="file";break;case 8:e.type="tel";break}e.type!=="number"?(A.max_len&&(e.maxLength=A.max_len),A.min_len&&(e.minLength=A.min_len)):(e.max=A.max_len,e.min=A.min_len)}break;case p.BUTTON:case p.BUTTON_CYCLE:if(e=document.createElement("button"),e.type="button",o=d.getAriaLabel(t.offset),o){let v=d.getAriaLabelLen();e.ariaLabel=i(o,v)}e.addEventListener("click",async v=>{N.currentDepthNode=t.id,v.preventDefault(),v.stopPropagation();let W=g(t.id);t.elemType===p.BUTTON_CYCLE?d.buttonCycleCallback(W):d.buttonCallback(W)});break;case p.BUTTON_CTX:if(e=document.createElement("button"),e.type="button",o=d.getAriaLabel(t.offset),o){let v=d.getAriaLabelLen();e.ariaLabel=i(o,v)}e.addEventListener("click",v=>{v.preventDefault(),v.stopPropagation();let W=g(t.id);d.ctxButtonCallback(W)});break;case p.SUBMIT_BUTTON:e=document.createElement("button"),e.type="submit";break;case p.HEADER:e=document.createElement("h1"),n=i(t.textPtr,t.textLen),e.textContent=n;break;case p.SVG:let h=(ge(r,t.id)??i(t.textPtr,t.textLen)).replace(/^\s+|\s+$/g,"");e=new DOMParser().parseFromString(h,"image/svg+xml").documentElement;break;case p.LINK:e=document.createElement("a"),e=Ce(e,t);break;case p.REDIRECT_LINK:e=document.createElement("a");let k=d.getAriaLabel(t.offset);if(k){let v=d.getAriaLabelLen();e.ariaLabel=i(k,v)}e.href=t.hrefLen>0?i(t.hrefPtr,t.hrefLen):"";break;case p.EMBEDLINK:case p.EMBEDICON:e=document.createElement("link"),e.rel=t.elemType===p.EMBEDLINK?"stylesheet":"icon",e.crossorigin="anonymous",e.href=i(t.hrefPtr,t.hrefLen);break;case p.ICON:e=document.createElement("i");break;case p.LIST:e=document.createElement("ul");break;case p.LISTITEM:e=document.createElement("li");break;case p.SELECT:e=document.createElement("select");break;case p.SELECT_ITEM:e=document.createElement("option");break;case p.LABEL:e=document.createElement("label"),n=i(t.textPtr,t.textLen),e.textContent=n;break;case p.FORM:e=document.createElement("form"),e.action="";break;case p.TABLE:e=document.createElement("table");break;case p.TABLE_ROW:e=document.createElement("tr");break;case p.TABLE_CELL:e=document.createElement("td");break;case p.TABLE_HEADER:e=document.createElement("thead");break;case p.TABLE_BODY:e=document.createElement("tbody");break;case p.TABLE_HEAD:e=document.createElement("th");break;case p.CANVAS:e=document.createElement("canvas");break;case p.HEADING:let R=d.getHeadingLevel(t.offset);e=document.createElement(`h${R>0&&R<7?R:1}`),n=i(t.textPtr,t.textLen),e.textContent=n;break;case p.VIDEO:console.log("Video"),e=document.createElement("video");let V=d.getVideo(t.offset);if(console.log("Offset",V),V===0)break;let H=new DataView(d.memory.buffer,V),F=H.getUint32(0,!0);if(F){let v=H.getUint32(4,!0);e.src=i(F,v)}console.log("Src",e.src),e.autoplay=H.getUint8(8)===1;break;case p.NOOP:break;default:e=document.createElement("div");break}return e&&(e.id=t.id),e}function Ve(t,e){if(t.id=e.id,N.initial_render&&e.styleId.length>0){let n=d.getInlineStyle(e.offset),o=d.getInlineStyleLen(e.offset);if(n!==0){let r=i(n,o);t.setAttribute("style",r)}Te(e.styleId,t)}else if(!N.initial_render&&e.styleId.length>0){let n="",o=d.getStyle(e.offset);if(o!==0){let c=d.getStyleLen();n=i(o,c)}t.setAttribute("class",e.styleId);let r=d.getInlineStyle(e.offset),s=d.getInlineStyleLen(e.offset);if(r!==0){let c=i(r,s);t.setAttribute("style",c)}he(e.offset,e.styleId,n,t)}if(e.elemType===p.ICON){let n=i(e.hrefPtr,e.hrefLen);t.className=n+" "+e.styleId}Y.set(e.id,{elementType:e.elemType,node_ptr:e.offset,domNode:t,exitAnimationId:e.exitAnimationId,destroyId:e.hooks.destroyId>0?e.hooks.destroyId:null})}function He(t,e){if(e.changedProps>0){if(e.elemType===p.TEXT||e.elemType===p.HEADER||e.elemType===p.ALLOC_TEXT||e.elemType===p.HEADING||e.elemType===p.LABEL){let n=i(e.textPtr,e.textLen);t.textContent=n}else if(e.elemType===p.TEXT_FIELD||e.elemType===p.TEXT_AREA){let n=d.getTextFieldParams(e.offset)>>>0;if(n){let o=d.getTextFieldCount(e.offset),s=new G(d,d.memory).readStruct(e.offset,n,o,"getTextFieldDescriptor");t.value=s.value!==null?String(s.value):""}}else if(e.elemType===p.ICON){let n=i(e.hrefPtr,e.hrefLen);t.className=n+" "+e.styleId,e.styleId=n+" "+e.styleId}else if(e.elemType===p.HTML_TEXT){let n=i(e.textPtr,e.textLen);t.innerHTML=n}else if(e.elemType===p.IMAGE){let n=i(e.hrefPtr,e.hrefLen);t.src=n}else if(e.elemType===p.SVG){let o=i(e.textPtr,e.textLen).replace(/^\s+|\s+$/g,""),s=new DOMParser().parseFromString(o,"image/svg+xml");t.innerHTML=s.documentElement.outerHTML}}if(e.changedStyle>0){let n="",o=d.getStyle(e.offset);if(o!==0){let c=d.getStyleLen();n=i(o,c)}he(e.offset,e.styleId,n,t);let r=d.getInlineStyle(e.offset),s=d.getInlineStyleLen(e.offset);if(r!==0){let c=i(r,s);t.setAttribute("style",c)}else if(e.elemType===p.ICON){let c=i(e.hrefPtr,e.hrefLen);t.className=c+" "+e.styleId,e.styleId=c+" "+e.styleId}}}function j(t,e){if(!t)return;let n=d.getUINodeChildrenCount(e),o=[];for(let r=0;r<n;r++){let s=d.getUINodeChild(e,r),c=Ie(s);o.push([c,s])}for(let r=n-1;r>=0;r--){let s=o[r][0],c=o[r][1];z.add(s.id);let a=null;if(s.isDirty)if(a=document.getElementById(s.id),a&&N.initial_render)Me(a,s),j(a,c);else if(!a||N.initial_render){if(a=$e(s),!a)continue;Ve(a,s);let l=o[r+1],u=null;if(l){let f=l[0]?.id;u=f?document.getElementById(f):null}if(t.insertBefore(a,u),j(a,c),s.elemType===p.HOOKS_CTX){switch(d.getHooksType(s.offset)){case 0:$.set(s.id,!0);break;case 1:Q.set(s.id,!0);break;case 2:P.set(s.id,!0);break}a.className=""}else s.elemType===p.HOOKS?(s.hooks.mountedId>0&&(M.set(s.id,!0),a.className=""),s.hooks.createdId>0&&d.hooksCreatedCallback(s.hooks.createdId),s.hooks.updatedId>0&&d.hooksUpdatedCallback(s.hooks.updatedId)):s.hooks.createdId>0&&P.set(s.id,!0)}else{He(a,s);let l=o[r+1],u=null;if(l){let h=l[0]?.id;u=h?document.getElementById(h):null}let f=a.nextSibling;for(;f?.dataset?.removing;)f=f.nextSibling;(a.parentNode!==t||f!==u)&&t.insertBefore(a,u),j(a,c)}else{let l=document.getElementById(s.id);j(l,c)}}}var I=new Map;function Oe(){let t=d.getTombstoneCount();if(t===0)return;let e=new Set;for(let o=0;o<t;o++){let r=d.getTombstoneClassNamePtr(o);if(r===0)continue;let s=d.getTombstoneClassNameLength(o),c=`.${i(r,s)}`;e.add(c)}let n=[];for(let o=0;o<w.cssRules.length;o++){let r=w.cssRules[o],s=r.selectorText,c=s?s.split(":")[0]:null;(!s||!e.has(c))&&n.push(r.cssText)}w.replaceSync(n.join(`
`)),pe(),d.clearTombstones()}function he(t,e,n,o){let r=e;if(r.length===0)return;let s=r.split(" ");for(;r=s.pop(),r!==void 0;)if(r.length!==0){if(I.has(`.${r}`)){if(o.localName!=="i"&&e.length>0){let c=r.substring(0,4)==="vis_",a=r.substring(0,4)==="pos_",l=r.substring(0,4)==="lay_",u=r.substring(0,5)==="intr_",f=r.substring(0,5)==="mapa_",h=r.substring(0,5)==="anim_";if(!(c||a||l||u||f||h)){let C=I.get(`.${r}`);if(C===void 0){let k=w.cssRules.length;w.insertRule(`.${r} { ${n} }`,k)}else w.deleteRule(C),w.insertRule(`.${r} { ${n} }`,C)}}}else if(r.substring(0,4)==="vis_"){let c=d.getVisualStyle(t,3),a=d.getVisualLen(),l=i(c,a),u=w.cssRules.length;w.insertRule(`.${r} { ${l} }`,u),I.set(`.${r}`,u)}else if(r.substring(0,4)==="pos_"){let c=d.getPositionStyle(t,3),a=d.getPositionLen(),l=i(c,a),u=w.cssRules.length;w.insertRule(`.${r} { ${l} }`,u),I.set(`.${r}`,u)}else if(r.substring(0,4)==="lay_"){let c=d.getLayoutStyle(t,3),a=d.getLayoutLen(),l=i(c,a),u=w.cssRules.length;w.insertRule(`.${r} { ${l} }`,u),I.set(`.${r}`,u)}else if(r.substring(0,5)==="intr_"){let c=d.getVisualStyle(t,0),a=d.getVisualLen(),l=i(c,a),u=w.cssRules.length;w.insertRule(`.${r}:hover { ${l} }`,u),I.set(`.${r}`,u)}else if(r.substring(0,5)==="mapa_"){let c=d.getMapaStyle(t,0),a=d.getMapaLen(),l=i(c,a),u=w.cssRules.length;w.insertRule(`.${r} { ${l} }`,u),I.set(`.${r}`,u)}else if(r.substring(0,5)==="anim_"){let c=d.getAnimationStyle(t,0),a=d.getAnimationLen(),l=i(c,a),u=w.cssRules.length;w.insertRule(`.${r} { ${l} }`,u),I.set(`.${r}`,u)}else if(r.substring(0,5)==="tran_"){let c=d.getTransformsStyle(t,0),a=d.getTransformsLen(),l=i(c,a),u=w.cssRules.length;w.insertRule(`.${r} { ${l} }`,u),I.set(`.${r}`,u)}else if(o.localName!=="i"&&e.length>0){let c=I.get(`.${r}`);if(c===void 0){let h=w.cssRules.length;w.insertRule(`.${r} { ${n} }`,h),I.set(`.${r}`,h)}else w.deleteRule(c),w.insertRule(`.${r} { ${n} }`,c);let a=d.getVisualStyle(t,0),l=d.getVisualLen(),u=i(a,l),f=I.get(`.${r}:hover`);if(f===void 0){let h=w.cssRules.length;w.insertRule(`.${r}:hover { ${u} }`,h),I.set(`.${r}:hover`,h)}else w.deleteRule(f),w.insertRule(`.${r}:hover { ${u} }`,f)}}return o.setAttribute("class",e),e}function Te(t,e){let n="";if(t.length>0&&(n=t),e.localName==="svg"){e.setAttribute("class",n);return}return I.has(n)?e.className=n:t.length>0&&I.has(t)?(n=t,e.className=n):e.className.length===0&&t.length===0?e.className=n:t.length>0&&e.localName!=="i"?(t.includes("-gk")?t=`${t}`:n=t,e.className=t):n=e.className,n}var m=null;var We=new Map;function Le(t){m=t}var G=class{constructor(e,n){this.wasm=e,this.memory=n,this.decoder=new TextDecoder}readStruct(e,n,o,r){let s={};for(let c=0;c<o;c++){let a;e===null?a=this.wasm[r](c):a=this.wasm[r](e,c);let l=this.readDescriptor(a),u=i(l.namePtr,l.nameLen),f;if(l.typeId===7){let E=new DataView(this.memory.buffer,n).getUint32(l.offset,!0);if(c+1<o){let C=this.wasm[r](e,c+1),k=this.readDescriptor(C),R=this.readField(n+k.offset,k.typeId,k.size,k.canBeNull);f=i(E,R),c++}else f=E}else f=this.readField(n+l.offset,l.typeId,l.size,l.canBeNull);s[u.replace("_ptr","")]=f}return s}readDescriptor(e){let n=new DataView(this.memory.buffer,e);return{namePtr:n.getUint32(0,!0),nameLen:n.getUint32(4,!0),offset:n.getUint32(8,!0),typeId:n.getUint8(12),size:n.getUint32(16,!0),canBeNull:n.getUint32(20,!0)}}readField(e,n,o,r){let s=new DataView(this.memory.buffer,e);if(r&&s.getUint32(0,!0)===0)return null;switch(n){case 1:return o===1?s.getUint8(0):o===2?s.getUint16(0,!0):o===4?s.getUint32(0,!0):s.getBigUint64(0,!0);case 2:return o===1?s.getInt8(0):o===2?s.getInt16(0,!0):o===4||o===8?s.getInt32(0,!0):s.getBigInt64(0,!0);case 3:return o===4?s.getFloat32(0,!0):s.getFloat64(0,!0);case 4:return!!s.getUint8(0);case 5:return i(e,o);case 7:return;case 8:return s.getUint8(0,!0);default:return null}}},q=class{constructor(e,n){this.wasm=e,this.memory=n}passObject(e){let n=this.wasm.startObject();for(let[o,r]of Object.entries(e)){let s=g(o);switch(typeof r){case"string":let c=g(r);this.wasm.addStringField(n,s,c);break;case"number":Number.isInteger(r)?this.wasm.addIntField(n,s,r):this.wasm.addFloatField(n,s,r);break;case"boolean":this.wasm.addBoolField(n,s,r?1:0);break}}return n}};function y(){return m?!0:(console.error("WASM instance not initialized"),!1)}function je(t,e){let n=i(t,e);return[n,document.getElementById(n)]}var Ae={requestRerenderWasm:()=>{De()},batchRemoveTombStonesWasm:()=>{Oe()},performance_now:()=>performance.now(),checkMemoryGrowthWasm:()=>{Re()},trackAlloc:()=>{let t=new Error;Error.captureStackTrace(t,m.trackAlloc),console.log(t.stack)},consoleLogWasm:(t,e)=>{if(!y())return;let n=new Uint8Array(m.memory.buffer),o=new TextDecoder().decode(n.subarray(t,t+e));console.log(o)},consoleLogColoredWasm:(t,e,n,o,r,s)=>{if(!y())return;let c=i(t,e),a=i(n,o),l=i(r,s);console.log(c,a,l)},consoleLogColoredWarnWasm:(t,e,n,o,r,s)=>{if(!y())return;let c=i(t,e),a=i(n,o),l=i(r,s);console.warn(c,a,l)},alertWasm:(t,e)=>{let n=new Uint8Array(m.memory.buffer),o=new TextDecoder().decode(n.subarray(t,t+e));alert(o)},createEventListener:(t,e,n)=>{if(!y()||!y())return;let o=n>>>0,r=i(t,e),s=L.get("vapor-document"),c=a=>{T[o]=a,m.eventCallback(o)};s===void 0?(s={},s[r]=c,document.addEventListener(r,c)):s[r]===void 0&&(s[r]=c,document.addEventListener(r,c)),L.set("vapor-document",s)},createEventListenerCtx:(t,e,n)=>{if(!y())return;let o=n>>>0,r=i(t,e),s=L.get("vapor-document"),c=a=>{T[o]=a,m.eventInstCallback(o)};s===void 0?(s={},s[r]=c,document.addEventListener(r,c)):s[r]===void 0&&(s[r]=c,document.addEventListener(r,c)),L.set("vapor-document",s)},removeEventListener:(t,e,n)=>{if(!y())return;let o=i(t,e),r=L.get("vapor-document");if(!r)return;let s=r[o];s&&(document.removeEventListener(o,s),delete r[o],Object.keys(r).length===0&&L.delete("vapor-document"))},createElementEventListener:(t,e,n,o,r)=>{if(!y())return;let[s,c]=je(t,e);if(c===null){console.log("Could not attach listener element is Null",s);return}let a=r>>>0,l=i(n,o),u=L.get(s),f=h=>{l==="pointerdown"&&c.setPointerCapture(h.pointerId),T[a]=h,m.eventCallback(a)};if(l==="pointerdown"&&(c.style.contain="layout style paint",c.style.willChange="transform"),u===void 0){let h={};h[l]=f,c.addEventListener(l,f),L.set(s,h)}else u[l]===void 0&&(u[l]=f,c.addEventListener(l,f),L.set(s,u))},createElementEventInstListener:(t,e,n,o,r)=>{if(!y())return;let s=i(t,e),c=document.getElementById(s);if(c===null){console.warn("Element is not committed yet, please attach listeners after mounting to the DOM");return}let a=r>>>0,l=i(n,o),u=L.get(s),f=h=>{T[a]=h,m.eventInstCallback(a)};u===void 0?(u={},u[l]=f,c.addEventListener(l,f)):u[l]===void 0&&(u[l]=f,c.addEventListener(l,f)),L.set(s,u)},removeElementEventListener:(t,e,n,o,r)=>{if(!y())return;let s=new Uint8Array(m.memory.buffer),c=new TextDecoder().decode(s.subarray(t,t+e)),a=document.getElementById(c),l=i(n,o),u=L.get(c);if(!u)return;let f=u[l];f&&(a.removeEventListener(l,f),delete u[l],Object.keys(u).length===0&&L.delete(c))},getEventDataWasm:(t,e,n)=>{if(!y())return;let o=new Uint8Array(m.memory.buffer),r=new TextDecoder().decode(o.subarray(e,e+n));t=t>>>0;let c=T[t][r];return g(c)},getEventDataInputWasm:t=>{if(!y())return;t=t>>>0;let n=T[t].target.value;return Ne(n)},getEventDataNumberWasm:(t,e,n)=>{if(!y())return;let o=t>>>0,r=i(e,n);return T[o][r]},eventPreventDefault:(t,e,n)=>{if(!y())return;let o=t>>>0,r=T[o];if(!r){console.error("Event not found");return}r.preventDefault()},formDataWasm:t=>{if(!y())return;t=t>>>0;let e=T[t],n=new FormData(e.target);console.log(n);let o=Object.fromEntries(n.entries()),s=new q(m,m.memory).passObject(o);return console.log(o),s},getElementData:(t,e,n)=>{if(!y())return;let o=new Uint8Array(m.memory.buffer),r=new TextDecoder().decode(o.subarray(e,e+n)),c=T[t][r];return g(c)},createElement:(t,e,n,o,r,s)=>{if(!y())return;let c=new Uint8Array(m.memory.buffer),a=new TextDecoder().decode(c.subarray(t,t+e)),l=new TextDecoder().decode(c.subarray(r,r+s));console.log({id:a,elementType:n,btnId:o,text:l})},removeFromParent:(t,e)=>{if(!y())return;let n=new Uint8Array(m.memory.buffer),o=new TextDecoder().decode(n.subarray(t,t+e)),r=document.getElementById(o);if(r===null){console.log("Is Null");return}r.parentNode.removeChild(r)},addChild:(t,e,n,o)=>{if(!y())return;let r=new Uint8Array(m.memory.buffer),s=new TextDecoder().decode(r.subarray(t,t+e)),c=document.getElementById(s);if(c===null){console.log("Is Null");return}let a=new TextDecoder().decode(r.subarray(n,n+o)),l=document.getElementById(a);if(l===null){console.log("Is Null");return}c.appendChild(l)},mutateDomElementWasm:(t,e,n,o,r)=>{requestAnimationFrame(()=>{if(!y())return;let s=new Uint8Array(m.memory.buffer),c=new TextDecoder().decode(s.subarray(t,t+e)),a=new TextDecoder().decode(s.subarray(n,n+o)),l=document.getElementById(c);if(l===null){console.log("Is Null");return}l[a]=r})},getAttributeWasmNumber:(t,e,n,o)=>{if(!y())return;let r=new Uint8Array(m.memory.buffer),s=new TextDecoder().decode(r.subarray(t,t+e)),c=i(n,o);return document.getElementById(s)[c]},mutateDomElementStyleWasm:(t,e,n,o,r)=>{requestAnimationFrame(()=>{if(!y())return;let s=new Uint8Array(m.memory.buffer),c=new TextDecoder().decode(s.subarray(t,t+e)),a=new TextDecoder().decode(s.subarray(n,n+o)),l=document.getElementById(c);if(l===null){console.log("Is Null");return}console.log("element",l,a,r),a==="top"||a==="left"?l.style[a]=`${r}px`:l.style[a]=r})},mutateDomElementStyleStringWasm:(t,e,n,o,r,s)=>{requestAnimationFrame(()=>{if(!y())return;let c=new Uint8Array(m.memory.buffer),a=new TextDecoder().decode(c.subarray(t,t+e)),l=new TextDecoder().decode(c.subarray(n,n+o)),u=new TextDecoder().decode(c.subarray(r,r+s)),f=document.getElementById(a);if(f===null){console.log("Is Null");return}f.style[l]=u})},translate3dWasm:(t,e,n,o,r)=>{let s=i(t,e),c=We.get(s);if(!c)if(c=document.getElementById(s),c)We.set(s,c);else return;c.style.transform=`translate3d(${n}px, ${o}px, ${r}px)`},addClass:(t,e,n,o)=>{if(!y())return;let r=new Uint8Array(m.memory.buffer),s=new TextDecoder().decode(r.subarray(t,t+e)),c=document.getElementById(s);if(c===null){console.log("Is Null");return}let a=new TextDecoder().decode(r.subarray(n,n+o));c.classList.add(a)},removeClass:(t,e,n,o)=>{if(!y())return;let r=new Uint8Array(m.memory.buffer),s=new TextDecoder().decode(r.subarray(t,t+e)),c=document.getElementById(s);if(c===null){console.log("Is Null");return}let a=new TextDecoder().decode(r.subarray(n,n+o));c.classList.remove(a)},createClass:(t,e)=>{if(!y())return;let n=new Uint8Array(m.memory.buffer),o=new TextDecoder().decode(n.subarray(t,t+e)),r=w.cssRules.length;w.insertRule(`${o}`,r)},toggleThemeWasm:()=>{let t=document.documentElement;t.getAttribute("data-theme")==="dark"?(t.removeAttribute("data-theme"),localStorage.setItem("theme","light")):(t.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark"))},getBoundingClientRectWasm:(t,e)=>{if(!y())return;let n=new Uint8Array(m.memory.buffer),o=new TextDecoder().decode(n.subarray(t,t+e)),r=m.allocate(6),s=new Float32Array(n.buffer,r,6),a=document.getElementById(o).getBoundingClientRect();return s[0]=a.top+window.scrollY,s[1]=a.left+window.scrollX,s[2]=a.right+window.scrollX,s[3]=a.bottom+window.scrollY,s[4]=a.width,s[5]=a.height,r},getOffsetsWasm:(t,e)=>{if(!y())return;let n=new Uint8Array(m.memory.buffer),o=new TextDecoder().decode(n.subarray(t,t+e)),r=document.getElementById(o);if(!r)return console.error(`Element with id ${o} not found`),0;let s=performance.now(),c=ue.get(o);if(c&&s-c.lastUpdateTime<16){let f=m.allocate(6),h=new Float32Array(n.buffer,f,6);return h[0]=c.offsetTop,h[1]=c.offsetLeft,h[2]=c.offsetRight,h[3]=c.offsetBottom,h[4]=c.offsetWidth,h[5]=c.offsetHeight,f}let a={offsetTop:r.offsetTop,offsetLeft:r.offsetLeft,offsetRight:r.offsetLeft+r.offsetWidth,offsetBottom:r.offsetTop+r.offsetHeight,offsetWidth:r.offsetWidth,offsetHeight:r.offsetHeight,lastUpdateTime:s};ue.set(o,a);let l=m.allocate(6),u=new Float32Array(n.buffer,l,6);return u[0]=a.offsetTop,u[1]=a.offsetLeft,u[2]=a.offsetRight,u[3]=a.offsetBottom,u[4]=a.offsetWidth,u[5]=a.offsetHeight,l},getClientPos:(t,e)=>{requestAnimationFrame(()=>{if(!y())return;let n=new Uint8Array(m.memory.buffer),o=new TextDecoder().decode(n.subarray(t,t+e)),r=m.allocate(6),s=new Float32Array(n.buffer,r,6),a=document.getElementById(o).getBoundingClientRect();return s[0]=a.top,s[1]=a.left,s[2]=a.right,s[3]=a.bottom,s[4]=a.width,s[5]=a.height,r})},getElementUnderMouse:(t,e)=>{let n=document.elementFromPoint(t,e);return n===null?0:g(n.id)},elementFocusWasm:(t,e)=>{requestAnimationFrame(()=>{if(!y())return;let n=i(t,e),o=document.getElementById(n);if(o){o.focus();return}console.log("Element is null, could not add focus",n)})},elementFocusedWasm:(t,e)=>{if(!y())return;let n=i(t,e),o=document.getElementById(n);if(o)return document.activeElement===o;console.log("Element is null, could not add focus",n)},callClickWASM:(t,e)=>{if(!y())return;let n=i(t,e),o=document.getElementById(n);if(o===null){console.log("Is Null");return}console.log(o),o.click()},getInputValueWasm:(t,e)=>{if(!y())return;let n=new Uint8Array(m.memory.buffer),o=new TextDecoder().decode(n.subarray(t,t+e)),s=document.getElementById(o).value;return g(s)},setInputValueWasm:(t,e,n,o)=>{if(!y())return;let r=i(t,e),s=i(n,o),c=document.getElementById(r);c.value=s},setCursorPositionWasm:(t,e,n)=>{if(!y())return;let o=i(t,e),r=document.getElementById(o);if(r===null){console.log("Is Null");return}r.setSelectionRange(n,n)},selectionWasm:(t,e)=>{let n=i(t>>>0,e),o=document.getElementById(n);if(o===null){console.log("Is Null");return}let r=m.allocateU32(2),s=new Uint32Array(m.memory.buffer,r,6);return s[0]=o.selectionStart,s[1]=o.selectionEnd,r},showDialog:(t,e)=>{requestAnimationFrame(()=>{if(!y())return;let n=new Uint8Array(m.memory.buffer),o=new TextDecoder().decode(n.subarray(t,t+e)),r=document.getElementById(o);if(r===null){console.log("Is Null");return}r.showModal()})},closeDialog:(t,e)=>{requestAnimationFrame(()=>{if(!y())return;let n=new Uint8Array(m.memory.buffer),o=new TextDecoder().decode(n.subarray(t,t+e)),r=document.getElementById(o);if(r===null){console.log("Is Null");return}r.close()})},highlightTargetNode:(t,e,n)=>{if(!y())return;let o=i(t,e),r=document.getElementById(o);if(!r){console.warn(`Element with id "${o}" not found`);return}let s=document.getElementById("highlight-overlay");s&&s.remove();let c=r.getBoundingClientRect(),a=document.createElement("div");a.className="highlight-overlay",a.style.position="absolute",a.style.top=`${c.top+window.scrollY-4}px`,a.style.left=`${c.left+window.scrollX-4}px`,a.style.width=`${c.width+8}px`,a.style.height=`${c.height+8}px`,a.style.backgroundColor=n===0?"rgba(255, 165, 0, 0.35)":"rgba(255, 0, 0, 0.35)",a.style.outline=n===0?"solid 2px #FF9100":"solid 2px #ff0000",a.style.pointerEvents="none",a.style.zIndex="9999",document.body.appendChild(a)},highlightHoverTargetNode:(t,e,n)=>{if(!y())return;let o=i(t,e),r=document.getElementById(o);if(!r){console.warn(`Element with id "${o}" not found`);return}let s=document.getElementById("highlight-overlay");s&&s.remove();let c=r.getBoundingClientRect(),a=document.createElement("div");a.className="highlight-hover-overlay",a.style.position="absolute",a.style.top=`${c.top+window.scrollY-4}px`,a.style.left=`${c.left+window.scrollX-4}px`,a.style.width=`${c.width+8}px`,a.style.height=`${c.height+8}px`,a.style.backgroundColor=n===0?"rgba(255, 165, 0, 0.35)":"rgba(255, 0, 0, 0.35)",a.style.outline=n===0?"solid 2px #FF9100":"solid 2px #ff0000",a.style.pointerEvents="none",a.style.zIndex="9999",document.body.appendChild(a)},clearHighlight:()=>{document.querySelectorAll(".highlight-overlay").forEach(t=>t.remove())},clearHoverHighlight:()=>{document.querySelectorAll(".highlight-hover-overlay").forEach(t=>t.remove())},timeout:(t,e)=>{setTimeout(()=>{m.timeoutCallBackId(e)},t)},timeoutCtx:(t,e)=>{let n=e>>>0,o=setTimeout(()=>{try{m.callbackCtx(n,null)}catch{}finally{ae.delete(n)}},t);return ae.set(n,o),o},cancelTimeoutWasm:t=>{let e=t>>>0,n=ae.get(e);clearTimeout(n)},createInterval:(t,e,n)=>{let o=i(t,e);setInterval(()=>{let r=g(o);m.timeOutCtxCallback(r)},n)},tick:t=>{for(;;)console.log("tick");return!1},getWindowInformationWasm:()=>g(window.location.pathname),getWindowParamsWasm:()=>g(window.location.search),getWindowHashWasm:()=>g(window.location.hash),setWindowHashWasm:(t,e)=>{let n=i(t,e);window.location.hash=n},setWindowLocationWasm:(t,e)=>{let n=i(t,e);window.location.href=n},navigateWasm:(t,e)=>{let n=i(t,e),o=window.location.pathname;requestAnimationFrame(()=>{o!==n&&te(n),requestAnimationFrame(()=>{let r=window.location.hash;if(r){let s=window.location.hash.substring(1,r.length),c=document.getElementById(s);c&&c.scrollIntoView({block:"center"})}})})},backWasm:()=>{console.log("Back"),window.history.back()},forwardWasm:()=>{window.history.forward()},replaceStateWasm:(t,e)=>{let n=i(t,e);window.history.replaceState(null,"",n)},scrollToWasm:(t,e)=>{window.scrollTo(t,e)},getScrollPositionWasm:()=>{let t=m.allocate(2),e=new Float32Array(m.memory.buffer,t,2);return e[0]=window.scrollX,e[1]=window.scrollY,t},getElementScrollWasm:(t,e)=>{let n=i(t,e),o=document.getElementById(n);if(!o)return 0;let r=m.allocate(4),s=new Float32Array(m.memory.buffer,r,4);return s[0]=o.scrollTop,s[1]=o.scrollLeft,s[2]=o.scrollHeight,s[3]=o.scrollWidth,r},setElementScrollWasm:(t,e,n,o)=>{let r=i(t,e),s=document.getElementById(r);s&&(s.scrollTop=n,s.scrollLeft=o)},windowWidth:()=>window.innerWidth,windowHeight:()=>window.innerHeight,getDevicePixelRatioWasm:()=>window.devicePixelRatio,getUserAgentWasm:()=>g(navigator.userAgent),getLanguageWasm:()=>g(navigator.language),isOnlineWasm:()=>navigator.onLine?1:0,isDocumentVisibleWasm:()=>document.visibilityState==="visible"?1:0,isWindowFocusedWasm:()=>document.hasFocus()?1:0,onVisibilityChangeWasm:t=>{document.addEventListener("visibilitychange",()=>{m.callbackCtx(t,document.hidden?0:1)})},setLocalStorageStringWasm:(t,e,n,o)=>{if(!y())return;let r=i(t,e),s=i(n,o);localStorage.setItem(r,s)},getLocalStorageStringWasm:(t,e)=>{if(!y())return;let n=i(t,e),o=localStorage.getItem(n);return o===null?null:g(o)},setLocalStorageNumberWasm:(t,e,n)=>{if(!y())return;let o=i(t,e);localStorage.setItem(o,n)},getLocalStorageNumberWasm:(t,e)=>{if(!y())return;let n=i(t,e);return localStorage.getItem(n)},getLocalStorageI32Wasm:(t,e)=>{if(!y())return;let n=i(t,e);return localStorage.getItem(n)},getLocalStorageU32Wasm:(t,e)=>{if(!y())return;let n=i(t,e);return localStorage.getItem(n)},removeLocalStorageWasm:(t,e)=>{if(!y())return;let n=i(t,e);localStorage.removeItem(n)},clearLocalStorageWasm:()=>{localStorage.clear()},setCookieWasm:(t,e)=>{let n=i(t,e);document.cookie=n},getCookiesWasm:()=>g(document.cookie),getCookieWasm:(t,e)=>{let n=i(t,e),o=document.cookie.match(new RegExp(`(^| )${n}=([^;]+)`));return o?g(decodeURIComponent(o[2])):null},copyTextWasm:(t,e)=>{if(!y())return;let n=new Uint8Array(m.memory.buffer),o=new TextDecoder().decode(n.subarray(t,t+e));navigator.clipboard&&window.isSecureContext&&navigator.clipboard.writeText(o).catch(r=>{console.error("Clipboard write failed:",r)})},readClipboardWasm:t=>{navigator.clipboard.readText().then(e=>{let n=g(e);m.resumeCallback(t,n)}).catch(e=>{m.resumeCallback(t,0)})},fetchWasm:(t,e,n,o,r)=>{let s=i(t,e),c=i(o,r),a=JSON.parse(c);a.body&&typeof a.body=="object"&&(a.body=JSON.stringify(a.body));let l={};fetch(s,a).then(u=>(l.code=u.status,l.message=u.statusText,l.type=u.type,l.ok=u.ok,u.text())).then(u=>{l.body=u;let f=JSON.stringify({ok:l}),h=g(f);m.resumeCallback(n,h)}).catch(u=>{console.error("Fetch failed:",u),l.code=0,l.type="error",l.message=u.message,l.ok=!1;let f=JSON.stringify({err:l}),h=g(f);console.log("Fetch error",u),m.resumeCallback(n,h)})},fetchParamsWasm:(t,e,n,o,r)=>{let s=i(t,e),c=i(o,r),a=JSON.parse(c),l={};fetch(s,a).then(u=>(l.code=u.status,l.text=u.statusText,l.type=u.type,u.text())).then(u=>{l.body=u;let f=JSON.stringify(l),h=g(f);m.resumeCallback(n,h)}).catch(u=>{console.error("Fetch failed:",u)})},createHookWASM:(t,e,n,o)=>{let s=`${i(t,e)}-${n}`;o===0?K.set(s,()=>{m.hookInstCallback(n)}):o===1&&se.set(s,()=>{m.hookInstCallback(n)})},createObserverWasm(t,e){let n=t>>>0;e=e>>>0;let o=m.getObserverOptions(e);if(o){let r=m.getObserverFieldCount(),s=new G(m,m.memory),a=s.readStruct(null,o,r,"getObserverFieldDescriptor"),l={threshold:s.threshold,rootMargin:`${a.rootMargin_top}px ${a.rootMargin_right}px ${a.rootMargin_bottom}px ${a.rootMargin_left}px`,root:null},u=new q(m,m.memory),f=new IntersectionObserver(h=>{h.forEach(E=>{let C=parseInt(E.target.dataset.index,10),k={id:E.target.id,isIntersecting:E.isIntersecting,actualIndex:C},R=u.passObject(k);m.callbackCtx(n,R)})},l);Z.set(n,f)}},observeWasm(t,e,n,o){let r=t>>>0,s=i(e,n),c=Z.get(r),a=document.getElementById(s);if(a===null){console.warn(`Element with id ${s} not found`);return}a.dataset.index=o,c.observe(a)},reinitObserverWasm(t){let e=t>>>0,n=Z.get(e);if(!n){console.warn(`Observer ${e} not found`);return}n.disconnect()},destroyObserverWasm(t,e){Z.delete(i(t,e))},startVideoWasm:(t,e)=>{let n=i(t,e),o=document.getElementById(n);if(o===null)return;async function r(){try{let s=await navigator.mediaDevices.getUserMedia({video:!0,audio:!1});o.srcObject=s}catch(s){console.error("Camera access denied:",s)}}r()},playVideoWasm:(t,e)=>{let n=i(t,e);document.getElementById(n).play()},pauseVideoWasm:(t,e)=>{let n=i(t,e);document.getElementById(n).pause()},stopCameraWasm:(t,e)=>{let n=i(t,e),o=document.getElementById(n);o.srcObject&&(o.srcObject.getTracks().forEach(s=>s.stop()),o.srcObject=null)},seekVideoWasm:(t,e,n)=>{let o=i(t,e),r=document.getElementById(o);r.currentTime=n},setVolumeWasm:(t,e,n)=>{let o=i(t,e),r=document.getElementById(o);r.volume=n},muteVideoWasm:(t,e,n)=>{let o=i(t,e),r=document.getElementById(o);r.muted=!!n},getVideoDurationWasm:(t,e)=>{let n=i(t,e);return document.getElementById(n).duration},getVideoCurrentTimeWasm:(t,e)=>{let n=i(t,e);return document.getElementById(n).currentTime},frame_arena_init:()=>{},scrollIntoViewWasm:(t,e)=>{let n=i(t,e),o=document.getElementById(n);if(o===null){console.log("Element Is Null");return}console.log(o),o.scrollIntoView()},setAttributeWasm:(t,e,n,o,r,s)=>{let c=i(t,e),a=i(n,o),l=i(r,s),u=document.getElementById(c);if(u===null){console.log("Element Is Null");return}u.setAttribute(a,l)},removeAttributeWasm:(t,e,n,o)=>{let r=i(t,e),s=i(n,o),c=document.getElementById(r);if(c===null){console.log("Element Is Null");return}c.removeAttribute(s)}};var J=new Map,b=new Map,S=new Map,X=new Map,ne=new Map,ie=new Map,_=new Map,ye=new Map,qe=1,Ge=1,Je=1,Ke=1,ze=1,Xe=1,Ue=1;function B(){return m?!0:(console.error("WASM instance not initialized"),!1)}var be={triggerFileInputWasm:(t,e)=>{if(!B())return;let n=i(t,e),o=document.getElementById(n);o&&o.click()},getFileCountWasm:t=>{let e=window._eventStorage?.[t];return e?.target?.files?e.target.files.length:0},getFileInfoWasm:(t,e)=>{let n=t>>>0,r=T[n].target.files[e],s={name:r.name,size:r.size,type:r.type};return new q(m,m.memory).passObject(s)},readFileAsTextWasm:(t,e,n)=>{let o=t>>>0,r=n>>>0,c=T[o]?.target?.files?.[e];if(!c)return null;let a=new FileReader;a.onload=()=>{if(!B())return;let l={contents:a.result},f=new q(m,m.memory).passObject(l);m.readObject(r,f)},a.onerror=()=>{},a.readAsText(c)},readFileAsBase64Wasm:(t,e,n)=>{let r=window._eventStorage?.[t]?.target?.files?.[e];if(!r){m.resumeCallback(n,g(""));return}let s=new FileReader;s.onload=()=>{let c=s.result.split(",")[1]||"",a=g(c);m.resumeCallback(n,a)},s.onerror=()=>{m.resumeCallback(n,g(""))},s.readAsDataURL(r)},readFileAsArrayBufferWasm:(t,e,n)=>{let r=window._eventStorage?.[t]?.target?.files?.[e];if(!r){m.resumeCallback(n,0);return}let s=new FileReader;s.onload=()=>{let c=new Uint8Array(s.result),a=m.allocate(c.length);new Uint8Array(m.memory.buffer,a,c.length).set(c),m.resumeCallback(n,a)},s.onerror=()=>{m.resumeCallback(n,0)},s.readAsArrayBuffer(r)},downloadFileWasm:(t,e,n,o,r,s)=>{if(!B())return;let c=i(t,e),a=i(n,o),l=i(r,s),u=new Blob([a],{type:l}),f=URL.createObjectURL(u),h=document.createElement("a");h.href=f,h.download=c,h.click(),URL.revokeObjectURL(f)},downloadBinaryFileWasm:(t,e,n,o,r,s)=>{if(!B())return;let c=i(t,e),a=i(r,s),l=new Uint8Array(m.memory.buffer,n,o),u=new Blob([l],{type:a}),f=URL.createObjectURL(u),h=document.createElement("a");h.href=f,h.download=c,h.click(),URL.revokeObjectURL(f)},createObjectURLWasm:(t,e)=>{if(!B())return 0;let n=t>>>0,r=T[n]?.target?.files?.[e];if(!r)return 0;let s=URL.createObjectURL(r);return g(s)},revokeObjectURLWasm:(t,e)=>{if(!B())return;let n=i(t,e);n&&URL.revokeObjectURL(n)},readFileAsDataURLWasm:(t,e,n)=>{if(!B())return;let r=T[t]?.target?.files?.[e];if(!r){m.resumeCallback(n,g(""));return}let s=new FileReader;s.onload=()=>{if(!B())return;let c=s.result,a=g(c);m.resumeCallback(n,a)},s.onerror=()=>{m.resumeCallback(n,g(""))},s.readAsDataURL(r)},readFileWithProgressWasm:(t,e,n,o)=>{if(!B())return;let s=T[t]?.target?.files?.[e];if(!s){m.resumeCallback(n,0);return}let c=new FileReader;c.onload=()=>{if(!B())return;let a=new Uint8Array(c.result),l=m.allocate(a.length);new Uint8Array(m.memory.buffer,l,a.length).set(a),m.resumeCallback(n,l)},c.onprogress=a=>{if(!B()||!a.lengthComputable)return;let l={loaded:a.loaded,total:a.total,percent:Math.round(a.loaded/a.total*100)},f=new q(m,m.memory).passObject(l);m.readObject(o,f)},c.onerror=()=>{m.resumeCallback(n,0)},c.readAsArrayBuffer(s)}},Ye={getDragDataWasm:(t,e,n)=>{let o=window._eventStorage?.[t];if(!o?.dataTransfer)return g("");let r=i(e,n),s=o.dataTransfer.getData(r);return g(s)},setDragDataWasm:(t,e,n,o,r)=>{let s=window._eventStorage?.[t];if(!s?.dataTransfer)return;let c=i(e,n),a=i(o,r);s.dataTransfer.setData(c,a)},setDragEffectWasm:(t,e)=>{let n=window._eventStorage?.[t];if(!n?.dataTransfer)return;let o=["none","copy","move","link"];n.dataTransfer.dropEffect=o[e]||"none"},setDragEffectAllowedWasm:(t,e)=>{let n=window._eventStorage?.[t];if(!n?.dataTransfer)return;let o=["none","copy","move","link","copyMove","copyLink","linkMove","all"];n.dataTransfer.effectAllowed=o[e]||"none"},getDroppedFilesCountWasm:t=>{let e=window._eventStorage?.[t];return e?.dataTransfer?.files?e.dataTransfer.files.length:0},getDroppedFileInfoWasm:(t,e)=>{let o=window._eventStorage?.[t]?.dataTransfer?.files?.[e];if(!o)return g("{}");let r={name:o.name,size:o.size,type:o.type,lastModified:o.lastModified};return g(JSON.stringify(r))},readDroppedFileAsTextWasm:(t,e,n)=>{let r=window._eventStorage?.[t]?.dataTransfer?.files?.[e];if(!r){m.resumeCallback(n,g(""));return}let s=new FileReader;s.onload=()=>{let c=g(s.result);m.resumeCallback(n,c)},s.onerror=()=>{m.resumeCallback(n,g(""))},s.readAsText(r)},readDroppedFileAsBase64Wasm:(t,e,n)=>{let r=window._eventStorage?.[t]?.dataTransfer?.files?.[e];if(!r){m.resumeCallback(n,g(""));return}let s=new FileReader;s.onload=()=>{let c=s.result.split(",")[1]||"",a=g(c);m.resumeCallback(n,a)},s.onerror=()=>{m.resumeCallback(n,g(""))},s.readAsDataURL(r)}},Ze={websocketConnectWasm:(t,e,n,o,r,s)=>{if(!B())return 0;let c=i(t,e),a=qe++;try{let l=new WebSocket(c);return l.onopen=()=>{m.callbackCtx(n,a)},l.onmessage=u=>{let f=g(u.data);m.callbackCtx(o,f)},l.onclose=u=>{let f={code:u.code,reason:u.reason,wasClean:u.wasClean},h=g(JSON.stringify(f));m.callbackCtx(r,h),J.delete(a)},l.onerror=()=>{m.callbackCtx(s,a)},J.set(a,l),a}catch(l){return console.error("WebSocket connection failed:",l),0}},websocketSendWasm:(t,e,n)=>{let o=J.get(t);if(!o||o.readyState!==WebSocket.OPEN)return 0;let r=i(e,n);try{return o.send(r),1}catch{return 0}},websocketSendBinaryWasm:(t,e,n)=>{let o=J.get(t);if(!o||o.readyState!==WebSocket.OPEN)return 0;let r=new Uint8Array(m.memory.buffer,e,n);try{return o.send(r),1}catch{return 0}},websocketCloseWasm:(t,e,n,o)=>{let r=J.get(t);if(!r)return;let s=i(n,o);r.close(e,s)},websocketStateWasm:t=>{let e=J.get(t);return e?e.readyState:-1},websocketBufferedAmountWasm:t=>{let e=J.get(t);return e?e.bufferedAmount:0}},Qe={setSessionStorageStringWasm:(t,e,n,o)=>{let r=i(t,e),s=i(n,o);sessionStorage.setItem(r,s)},getSessionStorageStringWasm:(t,e)=>{let n=i(t,e),o=sessionStorage.getItem(n);return g(o||"")},setSessionStorageNumberWasm:(t,e,n)=>{let o=i(t,e);sessionStorage.setItem(o,n.toString())},getSessionStorageNumberWasm:(t,e)=>{let n=i(t,e),o=sessionStorage.getItem(n);return o?parseFloat(o):0},removeSessionStorageWasm:(t,e)=>{let n=i(t,e);sessionStorage.removeItem(n)},clearSessionStorageWasm:()=>{sessionStorage.clear()},sessionStorageLengthWasm:()=>sessionStorage.length,sessionStorageKeyWasm:t=>{let e=sessionStorage.key(t);return g(e||"")}},et={getCanvas2dContextWasm:(t,e)=>{let n=i(t,e),o=document.getElementById(n);if(!o)return 0;let r=o.getContext("2d");if(!r)return 0;let s=Ge++;return b.set(s,r),s},canvasSetFillStyleWasm:(t,e,n)=>{let o=b.get(t);o&&(o.fillStyle=i(e,n))},canvasSetStrokeStyleWasm:(t,e,n)=>{let o=b.get(t);o&&(o.strokeStyle=i(e,n))},canvasSetLineWidthWasm:(t,e)=>{let n=b.get(t);n&&(n.lineWidth=e)},canvasSetLineCapWasm:(t,e)=>{let n=b.get(t);if(!n)return;let o=["butt","round","square"];n.lineCap=o[e]||"butt"},canvasSetLineJoinWasm:(t,e)=>{let n=b.get(t);if(!n)return;let o=["miter","round","bevel"];n.lineJoin=o[e]||"miter"},canvasFillRectWasm:(t,e,n,o,r)=>{let s=b.get(t);s&&s.fillRect(e,n,o,r)},canvasStrokeRectWasm:(t,e,n,o,r)=>{let s=b.get(t);s&&s.strokeRect(e,n,o,r)},canvasClearRectWasm:(t,e,n,o,r)=>{let s=b.get(t);s&&s.clearRect(e,n,o,r)},canvasBeginPathWasm:t=>{let e=b.get(t);e&&e.beginPath()},canvasClosePathWasm:t=>{let e=b.get(t);e&&e.closePath()},canvasMoveToWasm:(t,e,n)=>{let o=b.get(t);o&&o.moveTo(e,n)},canvasLineToWasm:(t,e,n)=>{let o=b.get(t);o&&o.lineTo(e,n)},canvasArcWasm:(t,e,n,o,r,s,c)=>{let a=b.get(t);a&&a.arc(e,n,o,r,s,c)},canvasArcToWasm:(t,e,n,o,r,s)=>{let c=b.get(t);c&&c.arcTo(e,n,o,r,s)},canvasBezierCurveToWasm:(t,e,n,o,r,s,c)=>{let a=b.get(t);a&&a.bezierCurveTo(e,n,o,r,s,c)},canvasQuadraticCurveToWasm:(t,e,n,o,r)=>{let s=b.get(t);s&&s.quadraticCurveTo(e,n,o,r)},canvasFillWasm:t=>{let e=b.get(t);e&&e.fill()},canvasStrokeWasm:t=>{let e=b.get(t);e&&e.stroke()},canvasClipWasm:t=>{let e=b.get(t);e&&e.clip()},canvasRectWasm:(t,e,n,o,r)=>{let s=b.get(t);s&&s.rect(e,n,o,r)},canvasEllipseWasm:(t,e,n,o,r,s,c,a,l)=>{let u=b.get(t);u&&u.ellipse(e,n,o,r,s,c,a,l)},canvasFillTextWasm:(t,e,n,o,r,s)=>{let c=b.get(t);if(!c)return;let a=i(e,n);s>0?c.fillText(a,o,r,s):c.fillText(a,o,r)},canvasStrokeTextWasm:(t,e,n,o,r,s)=>{let c=b.get(t);if(!c)return;let a=i(e,n);s>0?c.strokeText(a,o,r,s):c.strokeText(a,o,r)},canvasSetFontWasm:(t,e,n)=>{let o=b.get(t);o&&(o.font=i(e,n))},canvasSetTextAlignWasm:(t,e)=>{let n=b.get(t);if(!n)return;let o=["start","end","left","right","center"];n.textAlign=o[e]||"start"},canvasSetTextBaselineWasm:(t,e)=>{let n=b.get(t);if(!n)return;let o=["alphabetic","top","hanging","middle","ideographic","bottom"];n.textBaseline=o[e]||"alphabetic"},canvasMeasureTextWasm:(t,e,n)=>{let o=b.get(t);if(!o)return 0;let r=i(e,n);return o.measureText(r).width},canvasDrawImageWasm:(t,e,n,o,r)=>{let s=b.get(t);if(!s)return;let c=i(e,n),a=document.getElementById(c);a&&s.drawImage(a,o,r)},canvasDrawImageScaledWasm:(t,e,n,o,r,s,c)=>{let a=b.get(t);if(!a)return;let l=i(e,n),u=document.getElementById(l);u&&a.drawImage(u,o,r,s,c)},canvasDrawImageSlicedWasm:(t,e,n,o,r,s,c,a,l,u,f)=>{let h=b.get(t);if(!h)return;let E=i(e,n),C=document.getElementById(E);C&&h.drawImage(C,o,r,s,c,a,l,u,f)},canvasSaveWasm:t=>{let e=b.get(t);e&&e.save()},canvasRestoreWasm:t=>{let e=b.get(t);e&&e.restore()},canvasTranslateWasm:(t,e,n)=>{let o=b.get(t);o&&o.translate(e,n)},canvasRotateWasm:(t,e)=>{let n=b.get(t);n&&n.rotate(e)},canvasScaleWasm:(t,e,n)=>{let o=b.get(t);o&&o.scale(e,n)},canvasSetTransformWasm:(t,e,n,o,r,s,c)=>{let a=b.get(t);a&&a.setTransform(e,n,o,r,s,c)},canvasResetTransformWasm:t=>{let e=b.get(t);e&&e.resetTransform()},canvasSetGlobalAlphaWasm:(t,e)=>{let n=b.get(t);n&&(n.globalAlpha=e)},canvasSetGlobalCompositeOperationWasm:(t,e)=>{let n=b.get(t);if(!n)return;let o=["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","copy","xor","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"];n.globalCompositeOperation=o[e]||"source-over"},canvasToDataUrlWasm:(t,e,n,o,r)=>{let s=i(t,e),c=i(n,o),a=document.getElementById(s);return a?g(a.toDataURL(c||"image/png",r)):g("")},canvasGetImageDataWasm:(t,e,n,o,r)=>{let s=b.get(t);if(!s)return 0;let c=s.getImageData(e,n,o,r),a=m.allocate(c.data.length);return new Uint8Array(m.memory.buffer,a,c.data.length).set(c.data),a},canvasPutImageDataWasm:(t,e,n,o,r,s,c)=>{let a=b.get(t);if(!a)return;let l=new Uint8ClampedArray(m.memory.buffer,e,n),u=new ImageData(l,s,c);a.putImageData(u,o,r)},canvasSetShadowWasm:(t,e,n,o,r,s)=>{let c=b.get(t);c&&(c.shadowColor=i(e,n),c.shadowBlur=o,c.shadowOffsetX=r,c.shadowOffsetY=s)},destroyCanvasContextWasm:t=>{b.delete(t)}},tt={createAudioElementWasm:(t,e)=>{let n=i(t,e),o=new Audio(n),r=Je++;return S.set(r,o),r},audioPlayWasm:t=>{let e=S.get(t);e&&e.play()},audioPauseWasm:t=>{let e=S.get(t);e&&e.pause()},audioStopWasm:t=>{let e=S.get(t);e&&(e.pause(),e.currentTime=0)},audioSetVolumeWasm:(t,e)=>{let n=S.get(t);n&&(n.volume=Math.max(0,Math.min(1,e)))},audioGetVolumeWasm:t=>{let e=S.get(t);return e?e.volume:0},audioSetMutedWasm:(t,e)=>{let n=S.get(t);n&&(n.muted=e)},audioGetMutedWasm:t=>S.get(t)?.muted?1:0,audioSetLoopWasm:(t,e)=>{let n=S.get(t);n&&(n.loop=e)},audioSetCurrentTimeWasm:(t,e)=>{let n=S.get(t);n&&(n.currentTime=e)},audioGetCurrentTimeWasm:t=>{let e=S.get(t);return e?e.currentTime:0},audioGetDurationWasm:t=>{let e=S.get(t);return e?e.duration:0},audioGetReadyStateWasm:t=>{let e=S.get(t);return e?e.readyState:0},audioSetPlaybackRateWasm:(t,e)=>{let n=S.get(t);n&&(n.playbackRate=e)},audioOnEndedWasm:(t,e)=>{let n=S.get(t);n&&(n.onended=()=>m.callbackCtx(e,0))},audioOnErrorWasm:(t,e)=>{let n=S.get(t);n&&(n.onerror=()=>m.callbackCtx(e,0))},audioOnCanPlayWasm:(t,e)=>{let n=S.get(t);n&&(n.oncanplay=()=>m.callbackCtx(e,0))},destroyAudioElementWasm:t=>{let e=S.get(t);e&&(e.pause(),e.src="",S.delete(t))}},nt={geolocationAvailableWasm:()=>"geolocation"in navigator?1:0,getCurrentPositionWasm:(t,e,n,o,r)=>{if(!("geolocation"in navigator)){m.callbackCtx(e,g(JSON.stringify({code:0,message:"Geolocation not supported"})));return}navigator.geolocation.getCurrentPosition(s=>{let c={latitude:s.coords.latitude,longitude:s.coords.longitude,accuracy:s.coords.accuracy,altitude:s.coords.altitude,altitudeAccuracy:s.coords.altitudeAccuracy,heading:s.coords.heading,speed:s.coords.speed,timestamp:s.timestamp};m.callbackCtx(t,g(JSON.stringify(c)))},s=>{let c={code:s.code,message:s.message};m.callbackCtx(e,g(JSON.stringify(c)))},{enableHighAccuracy:n,timeout:o,maximumAge:r})},watchPositionWasm:(t,e,n,o,r)=>"geolocation"in navigator?navigator.geolocation.watchPosition(s=>{let c={latitude:s.coords.latitude,longitude:s.coords.longitude,accuracy:s.coords.accuracy,altitude:s.coords.altitude,altitudeAccuracy:s.coords.altitudeAccuracy,heading:s.coords.heading,speed:s.coords.speed,timestamp:s.timestamp};m.callbackCtx(t,g(JSON.stringify(c)))},s=>{let c={code:s.code,message:s.message};m.callbackCtx(e,g(JSON.stringify(c)))},{enableHighAccuracy:n,timeout:o,maximumAge:r}):-1,clearWatchPositionWasm:t=>{navigator.geolocation.clearWatch(t)}},ot={notificationPermissionWasm:()=>{if(!("Notification"in window))return-1;switch(Notification.permission){case"denied":return 0;case"granted":return 1;default:return 2}},requestNotificationPermissionWasm:t=>{if(!("Notification"in window)){m.callbackCtx(t,-1);return}Notification.requestPermission().then(e=>{let n;switch(e){case"denied":n=0;break;case"granted":n=1;break;default:n=2}m.callbackCtx(t,n)})},showNotificationWasm:(t,e,n,o,r,s,c,a)=>{if(!("Notification"in window)||Notification.permission!=="granted")return 0;let l=i(t,e),u={body:i(n,o),icon:i(r,s),tag:i(c,a)};try{return new Notification(l,u),1}catch{return 0}}},Be={requestFullscreenWasm:(t,e)=>{let n=i(t,e),o=document.getElementById(n);if(!o)return 0;try{let r=o.requestFullscreen||o.webkitRequestFullscreen||o.mozRequestFullScreen;if(r)return r.call(o),1}catch(r){console.error("Fullscreen request failed:",r)}return 0},exitFullscreenWasm:()=>{try{let t=document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen;if(t)return t.call(document),1}catch(t){console.error("Exit fullscreen failed:",t)}return 0},isFullscreenWasm:()=>document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement?1:0,getFullscreenElementIdWasm:()=>{let t=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement;return g(t?.id||"")},onFullscreenChangeWasm:t=>{document.addEventListener("fullscreenchange",()=>{m.callbackCtx(t,Be.isFullscreenWasm())})}},rt={getSelectionTextWasm:()=>{let t=window.getSelection();return g(t?.toString()||"")},getSelectionRangeWasm:(t,e)=>{let n=i(t,e),o=document.getElementById(n),r=m.allocate(8),s=new Uint32Array(m.memory.buffer,r,2);return o&&"selectionStart"in o?(s[0]=o.selectionStart,s[1]=o.selectionEnd):(s[0]=0,s[1]=0),r},setSelectionRangeWasm:(t,e,n,o,r)=>{let s=i(t,e),c=document.getElementById(s);if(c&&"setSelectionRange"in c){let a=["none","forward","backward"];c.setSelectionRange(n,o,a[r]||"none")}},selectAllWasm:(t,e)=>{let n=i(t,e),o=document.getElementById(n);o&&"select"in o&&o.select()}},st={createResizeObserverWasm:t=>{let e=Ke++,n=new ResizeObserver(o=>{for(let r of o){let s={id:r.target.id,width:r.contentRect.width,height:r.contentRect.height,x:r.contentRect.x,y:r.contentRect.y};m.callbackCtx(t,g(JSON.stringify(s)))}});return X.set(e,n),e},observeResizeWasm:(t,e,n)=>{let o=X.get(t);if(!o)return 0;let r=i(e,n),s=document.getElementById(r);return s?(o.observe(s),1):0},unobserveResizeWasm:(t,e,n)=>{let o=X.get(t);if(!o)return;let r=i(e,n),s=document.getElementById(r);s&&o.unobserve(s)},disconnectResizeObserverWasm:t=>{let e=X.get(t);e&&e.disconnect()},destroyResizeObserverWasm:t=>{let e=X.get(t);e&&(e.disconnect(),X.delete(t))}},at={createMutationObserverWasm:t=>{let e=ze++,n=new MutationObserver(o=>{for(let r of o){let s={type:r.type,targetId:r.target.id,attributeName:r.attributeName,oldValue:r.oldValue,addedNodesCount:r.addedNodes.length,removedNodesCount:r.removedNodes.length};m.callbackCtx(t,g(JSON.stringify(s)))}});return ne.set(e,n),e},observeMutationWasm:(t,e,n,o,r,s,c,a,l)=>{let u=ne.get(t);if(!u)return 0;let f=i(e,n),h=document.getElementById(f);return h?(u.observe(h,{childList:o,attributes:r,characterData:s,subtree:c,attributeOldValue:a,characterDataOldValue:l}),1):0},disconnectMutationObserverWasm:t=>{let e=ne.get(t);e&&e.disconnect()},destroyMutationObserverWasm:t=>{let e=ne.get(t);e&&(e.disconnect(),ne.delete(t))}},ct={fetchWithAbortWasm:(t,e,n,o,r)=>{let s=i(t,e),c=i(o,r),a=JSON.parse(c||"{}"),l=Xe++,u=new AbortController;return ie.set(l,u),a.signal=u.signal,fetch(s,a).then(async f=>{let h=await f.text(),E={ok:f.ok,status:f.status,statusText:f.statusText,body:h};m.callbackCtx(n,g(JSON.stringify({ok:E})))}).catch(f=>{m.callbackCtx(n,g(JSON.stringify({err:{message:f.message}})))}).finally(()=>{ie.delete(l)}),l},abortFetchWasm:t=>{let e=ie.get(t);return e?(e.abort(),ie.delete(t),1):0},fetchWithProgressWasm:(t,e,n,o,r,s)=>{let c=i(t,e),a=i(r,s),l=JSON.parse(a||"{}");fetch(c,l).then(async u=>{let f=u.body.getReader(),h=+u.headers.get("Content-Length")||0,E=0,C=[];for(;;){let{done:F,value:v}=await f.read();if(F)break;C.push(v),E+=v.length;let W={loaded:E,total:h};m.callbackCtx(o,g(JSON.stringify(W)))}let k=new Uint8Array(E),R=0;for(let F of C)k.set(F,R),R+=F.length;let V=new TextDecoder().decode(k),H={ok:u.ok,status:u.status,statusText:u.statusText,body:V};m.callbackCtx(n,g(JSON.stringify({ok:H})))}).catch(u=>{m.callbackCtx(n,g(JSON.stringify({err:{message:u.message}})))})},fetchJsonWasm:(t,e,n,o,r)=>{let s=i(t,e),c=i(o,r),a=JSON.parse(c||"{}");fetch(s,a).then(l=>l.json()).then(l=>{m.callbackCtx(n,g(JSON.stringify({ok:l})))}).catch(l=>{m.callbackCtx(n,g(JSON.stringify({err:{message:l.message}})))})}},it={performanceMarkWasm:(t,e)=>{let n=i(t,e);performance.mark(n)},performanceMeasureWasm:(t,e,n,o,r,s)=>{let c=i(t,e),a=i(n,o),l=i(r,s);try{return performance.measure(c,a,l),1}catch{return 0}},performanceGetEntriesByNameWasm:(t,e)=>{let n=i(t,e),o=performance.getEntriesByName(n);return g(JSON.stringify(o))},performanceClearMarksWasm:(t,e)=>{let n=i(t,e);n?performance.clearMarks(n):performance.clearMarks()},performanceClearMeasuresWasm:(t,e)=>{let n=i(t,e);n?performance.clearMeasures(n):performance.clearMeasures()},performanceNowWasm:()=>performance.now()},lt={idbOpenWasm:(t,e,n,o,r)=>{let s=i(t,e),c=indexedDB.open(s,n);c.onerror=()=>{m.callbackCtx(r,g(c.error?.message||"Unknown error"))},c.onsuccess=()=>{let a=Ue++;_.set(a,c.result),m.callbackCtx(o,a)},c.onupgradeneeded=a=>{let l=Ue++;_.set(l,c.result)}},idbCloseWasm:t=>{let e=_.get(t);e&&(e.close(),_.delete(t))},idbCreateObjectStoreWasm:(t,e,n,o,r,s)=>{let c=_.get(t);if(!c)return 0;let a=i(e,n),l=i(o,r);try{return c.createObjectStore(a,{keyPath:l||void 0,autoIncrement:s}),1}catch(u){return console.error("Create object store failed:",u),0}},idbDeleteObjectStoreWasm:(t,e,n)=>{let o=_.get(t);if(!o)return 0;let r=i(e,n);try{return o.deleteObjectStore(r),1}catch{return 0}},idbPutWasm:(t,e,n,o,r,s,c,a)=>{let l=_.get(t);if(!l){m.callbackCtx(a,0);return}let u=i(e,n),f=i(o,r),h=i(s,c);try{let k=l.transaction(u,"readwrite").objectStore(u).put(JSON.parse(h),f);k.onsuccess=()=>m.callbackCtx(a,1),k.onerror=()=>m.callbackCtx(a,0)}catch{m.callbackCtx(a,0)}},idbGetWasm:(t,e,n,o,r,s)=>{let c=_.get(t);if(!c){m.callbackCtx(s,g("null"));return}let a=i(e,n),l=i(o,r);try{let h=c.transaction(a,"readonly").objectStore(a).get(l);h.onsuccess=()=>{m.callbackCtx(s,g(JSON.stringify(h.result)))},h.onerror=()=>{m.callbackCtx(s,g("null"))}}catch{m.callbackCtx(s,g("null"))}},idbDeleteWasm:(t,e,n,o,r,s)=>{let c=_.get(t);if(!c){m.callbackCtx(s,0);return}let a=i(e,n),l=i(o,r);try{let h=c.transaction(a,"readwrite").objectStore(a).delete(l);h.onsuccess=()=>m.callbackCtx(s,1),h.onerror=()=>m.callbackCtx(s,0)}catch{m.callbackCtx(s,0)}},idbGetAllWasm:(t,e,n,o)=>{let r=_.get(t);if(!r){m.callbackCtx(o,g("[]"));return}let s=i(e,n);try{let l=r.transaction(s,"readonly").objectStore(s).getAll();l.onsuccess=()=>{m.callbackCtx(o,g(JSON.stringify(l.result)))},l.onerror=()=>{m.callbackCtx(o,g("[]"))}}catch{m.callbackCtx(o,g("[]"))}},idbClearStoreWasm:(t,e,n,o)=>{let r=_.get(t);if(!r){m.callbackCtx(o,0);return}let s=i(e,n);try{let l=r.transaction(s,"readwrite").objectStore(s).clear();l.onsuccess=()=>m.callbackCtx(o,1),l.onerror=()=>m.callbackCtx(o,0)}catch{m.callbackCtx(o,0)}},idbDeleteDatabaseWasm:(t,e,n)=>{let o=i(t,e),r=indexedDB.deleteDatabase(o);r.onsuccess=()=>m.callbackCtx(n,1),r.onerror=()=>m.callbackCtx(n,0)}},dt={requestAnimationFrameWasm:t=>{let e=requestAnimationFrame(n=>{ye.delete(e),m.callbackCtx(t,n)});return ye.set(e,t),e},cancelAnimationFrameWasm:t=>{cancelAnimationFrame(t),ye.delete(t)}},ut={requestPointerLockWasm:(t,e)=>{let n=i(t,e),o=document.getElementById(n);if(!o)return 0;try{return o.requestPointerLock(),1}catch{return 0}},exitPointerLockWasm:()=>{document.exitPointerLock()},isPointerLockedWasm:()=>document.pointerLockElement?1:0,onPointerLockChangeWasm:t=>{document.addEventListener("pointerlockchange",()=>{m.callbackCtx(t,document.pointerLockElement?1:0)})}},mt={vibrateWasm:t=>"vibrate"in navigator&&navigator.vibrate(t)?1:0,vibratePatternWasm:(t,e)=>{if(!("vibrate"in navigator))return 0;let n=new Uint32Array(m.memory.buffer,t,e);return navigator.vibrate(Array.from(n))?1:0},vibrateCancelWasm:()=>{"vibrate"in navigator&&navigator.vibrate(0)}},ft={getScreenOrientationWasm:()=>screen.orientation?g(screen.orientation.type):g("unknown"),getScreenOrientationAngleWasm:()=>screen.orientation?screen.orientation.angle:0,lockScreenOrientationWasm:(t,e,n)=>{let o=i(t,e);if(!screen.orientation?.lock){m.callbackCtx(n,0);return}screen.orientation.lock(o).then(()=>m.callbackCtx(n,1)).catch(()=>m.callbackCtx(n,0))},unlockScreenOrientationWasm:()=>{screen.orientation?.unlock&&screen.orientation.unlock()},onOrientationChangeWasm:t=>{screen.orientation&&screen.orientation.addEventListener("change",()=>{m.callbackCtx(t,g(screen.orientation.type))})}},gt={getBatteryStatusWasm:t=>{if(!("getBattery"in navigator)){m.callbackCtx(t,g(JSON.stringify({error:"Not supported"})));return}navigator.getBattery().then(e=>{let n={charging:e.charging,chargingTime:e.chargingTime,dischargingTime:e.dischargingTime,level:e.level};m.callbackCtx(t,g(JSON.stringify(n)))}).catch(e=>{m.callbackCtx(t,g(JSON.stringify({error:e.message})))})}},ht={canShareWasm:()=>"share"in navigator?1:0,shareWasm:(t,e,n,o,r,s,c)=>{if(!("share"in navigator)){m.callbackCtx(c,0);return}let a={title:i(t,e),text:i(n,o),url:i(r,s)};navigator.share(a).then(()=>m.callbackCtx(c,1)).catch(()=>m.callbackCtx(c,0))}},on={...be,...Ye,...Ze,...Qe,...et,...tt,...nt,...ot,...Be,...rt,...st,...at,...ct,...it,...lt,...dt,...ut,...mt,...ft,...gt,...ht};var _e={wasi_snapshot_preview1:{proc_exit:t=>{},clock_time_get:(t,e,n)=>{let o=BigInt(Date.now())*1000000n;return new DataView(d.memory.buffer).setBigUint64(n,o,!0),0},path_open:()=>(console.warn("path_open() called but not implemented in browser"),0),poll_oneoff:async(t,e,n,o)=>{let c=new DataView(d.memory.buffer).getBigUint64(t+24,!0),a=Number(c/1000000n);return console.log("Timeout duration (ms):",a),new Promise(l=>{console.log("Starting",a),setTimeout(()=>{console.log(`setTimeout resolved after ${a}ms`),promiseResolved=!0,l(0)},a)}),0},random_get:(t,e)=>{let n=new Uint8Array(d.memory.buffer,t,e);return crypto.getRandomValues(n),0},fd_write:(t,e,n,o)=>{},fd_filestat_get:(t,e)=>0,fd_close:()=>0,fd_pwrite:()=>0,fd_pread:()=>0,fd_seek:()=>0,fd_read:()=>{},environ_sizes_get:()=>0,environ_get:()=>0},env:{...Ae,...be}};var d,z=new Set;var pt,O,yt,x,U;window.addEventListener("popstate",async function(t){t.preventDefault();let e=window.location.pathname;te(e)});window.addEventListener("load",async()=>{let t=new URL(window.location.href);for(let[e,n]of K.entries())console.log("beforeHooksHandlers",e),t.pathname==="/docs"&&console.log("fkjasldfkjas;lfkjasf;l")});async function bt(t,e={}){let o=await(await fetch(t)).arrayBuffer(),{instance:r}=await WebAssembly.instantiate(o,e);return r}var le,ee;async function wt(){le="vapor",(async()=>{try{let e=(await bt(`/zig-out/bin/${le}.wasm`,_e)).exports;e._start,ke.set(le,e),Se.add(le),d=e,Le(d),ee={},Ct()}catch(t){console.error("Fatal error loading WASM:",t)}})()}async function vt(){d=await wt()}var te=t=>{let e=t==="/"?"/root":`/root${t}`;D=window.location.pathname,window.history.pushState({},"",t);for(let[a,l]of se.entries()){let u=a.indexOf("-"),f=a.substring(0,u);(D===f||D.startsWith(f+"/"))&&l()}for(let[a,l]of K.entries()){let u=a.indexOf("-"),f=a.substring(0,u);(t===f||t.startsWith(f+"/"))&&l()}let n=new TextEncoder().encode(e),o=d.allocUint8(n.length+1),r=new Uint8Array(d.memory.buffer,o,n.length+1);r.set(n),r[n.length]=0,d.callRouteRenderCycle(o);let s=d.hasDirty(),c=d.removalCount();for(let a=0;a<c;a++){let l=d.getRemovalIdPtr(a),u=d.getRemovalIdLen(a),f=i(l,u),h=document.querySelectorAll(`[id="${f}"]`);h.length===1&&ce(h[0],a).catch(E=>console.error("Error destroying node:",E))}if(d.clearRemovalQueueRetainingCapacity(),s){let a=d.getRenderUINodeRootPtr();if(a===0){N.initial_render=!1,d.resetRerender(),requestAnimationFrame(d.cleanUp);return}z=new Set,j(re,a),d.markCurrentTreeNotDirty(),d.resetRerender(),Ee();let l=window.location.hash;if(l){let u=window.location.hash.substring(1,l.length),f=document.getElementById(u);f&&f.scrollIntoView({block:"center"})}M.forEach((u,f)=>{let h=g(f);d.hooksMountedCallback(h),M.delete(f)}),P.forEach((u,f)=>{let h=g(f);d.callOnCreateNode(h),P.delete(f)}),$.forEach((u,f)=>{let h=g(f);d.hooksMountedCallbackCtx(h),$.delete(f)})}else d.resetRerender();requestAnimationFrame(d.onEndCallback)};var Ne=t=>{let e=new TextEncoder().encode(t),n=d.allocUint8Frame(e.length+1),o=new Uint8Array(d.memory.buffer,n,e.length+1);return o.set(e),o[e.length]=0,n},g=t=>{let e=new TextEncoder().encode(t),n=d.allocUint8(e.length+1),o=new Uint8Array(d.memory.buffer,n,e.length+1);return o.set(e),o[e.length]=0,n},re;function xt(){x=d.allocateLayoutInfo(),U=d.allocateUINodeLayoutInfo(),O={UINodeSize:new DataView(d.memory.buffer,U+0,4).getUint32(0,!0),elemTypeOffset:new DataView(d.memory.buffer,U+4,4).getUint32(0,!0),textPtrOffset:new DataView(d.memory.buffer,U+8,4).getUint32(0,!0),hrefPtrOffset:new DataView(d.memory.buffer,U+12,4).getUint32(0,!0),idPtrOffset:new DataView(d.memory.buffer,U+16,4).getUint32(0,!0),indexOffset:new DataView(d.memory.buffer,U+20,4).getUint32(0,!0),classnamePtrOffset:new DataView(d.memory.buffer,U+24,4).getUint32(0,!0),hashOffset:new DataView(d.memory.buffer,U+28,4).getUint32(0,!0),styleChangedOffset:new DataView(d.memory.buffer,U+32,4).getUint32(0,!0),propsChangedOffset:new DataView(d.memory.buffer,U+36,4).getUint32(0,!0),dirtyOffset:new DataView(d.memory.buffer,U+40,4).getUint32(0,!0),hooksOffset:new DataView(d.memory.buffer,U+44,4).getUint32(0,!0)},pt={renderCommandSize:new DataView(d.memory.buffer,x+0,4).getUint32(0,!0),elemTypeOffset:new DataView(d.memory.buffer,x+4,4).getUint32(0,!0),textPtrOffset:new DataView(d.memory.buffer,x+8,4).getUint32(0,!0),hrefPtrOffset:new DataView(d.memory.buffer,x+12,4).getUint32(0,!0),idPtrOffset:new DataView(d.memory.buffer,x+16,4).getUint32(0,!0),indexOffset:new DataView(d.memory.buffer,x+20,4).getUint32(0,!0),hooksOffset:new DataView(d.memory.buffer,x+24,4).getUint32(0,!0),nodePtrOffset:new DataView(d.memory.buffer,x+28,4).getUint32(0,!0),classnamePtrOffset:new DataView(d.memory.buffer,x+32,4).getUint32(0,!0),styleBtnIdOffset:new DataView(d.memory.buffer,x+36,4).getUint32(0,!0),styleDialogIdPtrOffset:new DataView(d.memory.buffer,x+40,4).getUint32(0,!0),styleExitAnimationPtrOffset:new DataView(d.memory.buffer,x+44,4).getUint32(0,!0),hoverSize:new DataView(d.memory.buffer,x+48,4).getUint32(0,!0),hoverOffset:new DataView(d.memory.buffer,x+52,4).getUint32(0,!0),focusSize:new DataView(d.memory.buffer,x+56,4).getUint32(0,!0),focusOffset:new DataView(d.memory.buffer,x+60,4).getUint32(0,!0),focusWithinSize:new DataView(d.memory.buffer,x+64,4).getUint32(0,!0),focusWithinOffset:new DataView(d.memory.buffer,x+68,4).getUint32(0,!0),renderTypeOffset:new DataView(d.memory.buffer,x+72,4).getUint32(0,!0),tooltipSize:new DataView(d.memory.buffer,x+76,4).getUint32(0,!0),tooltipOffset:new DataView(d.memory.buffer,x+80,4).getUint32(0,!0),hasChildrenOffset:new DataView(d.memory.buffer,x+84,4).getUint32(0,!0),hashOffset:new DataView(d.memory.buffer,x+88,4).getUint32(0,!0),styleChangedOffset:new DataView(d.memory.buffer,x+92,4).getUint32(0,!0),propsChangedOffset:new DataView(d.memory.buffer,x+96,4).getUint32(0,!0)}}function Et(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function kt(){if((localStorage.getItem("theme")||Et())==="dark"){document.documentElement.setAttribute("data-theme","dark");try{d.setTheme(1)}catch(e){console.log("Error setting theme",e)}}else localStorage.getItem("theme")==="dark"&&(document.documentElement.setAttribute("data-theme","dark"),d.setTheme(1))}var w=new CSSStyleSheet,D;function St(){d.init(),D=window.location.pathname;for(let[a,l]of K.entries()){let u=a.indexOf("-"),f=a.substring(0,u);(D===f||D.startsWith(f+"/"))&&l()}kt(),D==="/"?ve=g("/root"):ve=g(`/root${D}`);let t=performance.now();d.renderUI(ve);let e=d.getGlobalVariablesPtr(),n=d.getGlobalVariablesLen();if(e!==0){let a=i(e,n);we(a)}let o=i(d.getCSS(),d.getCSSLen());we(o);let r=d.getAnimationsPtr();if(r>0){let a=d.getAnimationsLen(),l=i(r,a);we(l)}z=new Set;let s=d.getRenderUINodeRootPtr();j(re,s),N.initial_render=!1,Ee(),d.markCurrentTreeNotDirty(),d.resetRerender();let c=window.location.hash;if(c){let a=window.location.hash.substring(1,c.length),l=document.getElementById(a);l&&l.scrollIntoView({block:"center"})}document.fonts.ready.then(()=>{M.forEach((a,l)=>{let u=g(l);d.hooksMountedCallback(u),M.delete(l)}),$.forEach((a,l)=>{let u=g(l);d.hooksMountedCallbackCtx(u),$.delete(l)}),P.forEach((a,l)=>{let u=g(l);d.callOnCreateNode(u),P.delete(l)})}),requestAnimationFrame(()=>{d.onEndCallback(),d.onEndCtxCallback()}),d.registerAllListenerCallbacks()}document.adoptedStyleSheets=[...document.adoptedStyleSheets,w];function we(t){let e=Array.from(w.cssRules).map(n=>n.cssText).join(`
`);w.replaceSync(`${e}
${t}`),pe()}function pe(){I.clear();for(let t=0;t<w.cssRules.length;t++){let e=w.cssRules[t];if(e.selectorText){let n=e.selectorText;I.set(n,t)}}}var Tn=document.createDocumentFragment();async function Ct(){re=document.getElementById("contents"),xt(),St()}var ve=null,de=null,Tt=8;function De(){de&&clearTimeout(de),de=setTimeout(()=>{de=null,N.isRenderScheduled||(N.isRenderScheduled=!0,requestAnimationFrame(It))},Tt)}async function It(){N.isRenderScheduled=!1;let t=d.shouldRerender();if(!t){requestAnimationFrame(()=>{d.onEndCallback(),d.onEndCtxCallback()});return}try{if(t){D=window.location.pathname;let e=g(D==="/"?"/root":`/root${D}`);d.renderUI(e);let n=d.hasDirty(),o=d.removalCount();for(let r=0;r<o;r++){let s=d.getRemovalIdPtr(r),c=d.getRemovalIdLen(r),a=i(s,c),l=document.querySelectorAll(`[id="${a}"]`);l.length===1&&ce(l[0],r).catch(u=>console.error("Error destroying node:",u))}if(d.clearRemovalQueueRetainingCapacity(),n){yt=d.getRenderTreePtr();let r=d.getRenderUINodeRootPtr();z=new Set,re=document.getElementById("contents"),j(re,r),N.initial_render=!1,Ot(),Ee(),d.markCurrentTreeNotDirty(),d.resetRerender(),d.registerAllListenerCallbacks(),P.forEach((s,c)=>{let a=g(c);d.callOnCreateNode(a),P.delete(c)}),M.forEach((s,c)=>{let a=g(c);d.hooksMountedCallback(a),M.delete(c)}),$.forEach((s,c)=>{let a=g(c);d.hooksMountedCtxCallback(a),$.delete(c)})}}else console.log("Grain Rerender");requestAnimationFrame(()=>{d.onEndCallback(),d.onEndCtxCallback()})}catch(e){console.error("An error occurred during the render cycle:",e)}}function Ot(){Y.forEach((t,e)=>{if(!z.has(e)&&Q.get(e)){let n=g(e);d.hooksMountedCtxCallback(n),Q.delete(e)}})}function Pe(t){for(let e of t.children)oe=Wt(oe,e.id),Pe(e)}var Wt=(t,e)=>{let n=t.findIndex(o=>o.nodeId===e);return n!==-1&&(t[n]=t[t.length-1],t.pop()),t},oe=[];function Ee(){oe=[],oe.forEach(({node:t,nodeId:e})=>{let n=t.domNode,o=t.exitAnimationId;if(o){Pe(n),console.log(oe.length);let r=s=>{s.animationName===o&&(n.removeEventListener("animationend",r),n.remove())};n.addEventListener("animationend",r),n.classList.add(o)}else{if(t.elementType===p.HOOKS){let r=g(e);d.hooksRemoveMountedKey(r)}n.remove()}})}function Ie(t){let e=new DataView(d.memory.buffer,t,O.UINodeSize),n="",o="",r=e.getUint8(O.elemTypeOffset),s=e.getUint8(O.dirtyOffset,!0),c=e.getUint32(O.textPtrOffset,!0),a=e.getUint32(O.textPtrOffset+4,!0),l=e.getUint32(O.hrefPtrOffset,!0),u=e.getUint32(O.hrefPtrOffset+4,!0),f=e.getUint32(O.idPtrOffset,!0),h=e.getUint32(O.idPtrOffset+4,!0);o=f?i(f,h):"";let E=e.getUint32(O.indexOffset,!0),C={},k=0,R=0;if(s){k=e.getUint8(O.styleChangedOffset,!0),R=e.getUint8(O.propsChangedOffset,!0),C={createdId:e.getUint32(O.hooksOffset,!0),mountedId:e.getUint32(O.hooksOffset+4,!0),updatedId:e.getUint32(O.hooksOffset+8,!0),destroyId:e.getUint32(O.hooksOffset+12,!0)};let V=O.classnamePtrOffset,H=e.getUint32(V,!0);if(H){let F=e.getUint32(V+4,!0);n=i(H,F)}}return{id:o,elemType:r,index:E,textPtr:c,textLen:a,hrefPtr:l,hrefLen:u,offset:t,styleId:n,isDirty:s,changedStyle:k,changedProps:R,hooks:C}}var Lt=new TextDecoder;function i(t,e){let n=new Uint8Array(d.memory.buffer,t,e);return Lt.decode(n)}function At(){return d.memory.buffer.byteLength}var xe=0;function Re(){let t=At(),e=t/(64*1024);return console.log(`Total memory: ${t/1024/1024} MB (${e} pages)`),t>xe&&console.log(`Memory grew by ${(t-xe)/1024} KB`),xe=t,e}vt();})();
